epackage rolemapping;

// plain Java imports
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.common.util.EList;
import org.eclipse.emf.common.util.BasicEList;
import org.eclipse.emf.ecore.util.EcoreUtil;
import java.util.List;
 
// import of other EClasses
import roles.Role;
import roles.RoleModifier;
import roles.MultiplicityRelation;

eclass ConcreteMapping {
	
	getRelationMappingForTargetRole() {
		EList<RelationMapping> mappings = getOutgoingRelationMappings();
		for (RelationMapping relationMapping : mappings) {
			EcoreUtil.resolveAll(relationMapping);
			MultiplicityRelation relation = relationMapping.getRelation();
			if(relation.getTarget().equals(role)){
				return relationMapping;
			}
		}
		return null;
  	}
  	
  	getAttributeMappingForAttribute() {
		if(attribute == null){
			return null;
		}
		List<AttributeMapping> attributeMappings = getAttributeMappings();
		for (AttributeMapping attributeMapping : attributeMappings) {
			if(attributeMapping.getRoleAttribute().equals(attribute)){
				return attributeMapping;
			}
		}
		return null;
	}
	
	getRelationMappingForRelation() {
		List<RelationMapping> relationMappings = getOutgoingRelationMappings();
		for (RelationMapping relationMapping : relationMappings) {
			MultiplicityRelation mappedRelation = relationMapping.getRelation();
			if(mappedRelation.equals(relation)){
				return relationMapping;
			}
		}
		return null;
	}
}