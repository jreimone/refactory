#if( $children )
#set( $elem = $token.storyPattern )
#set( $name = $elem.Name )
#set( $withTryCatch = ! $token.storyPattern.noTryCatch )
// story pattern $!name
#if ( $withTryCatch )
#set( $children = $utility.indent("   ",$!children) )
try 
{
   fujaba__Success = false; 

#end
$!children##
#if( $withTryCatch )
   fujaba__Success = true;
}
catch ( Exception fujaba__InternalException )
{
   fujaba__Success = false;
#if( $elem.revStoryPattern.isAssertInUnitTest() )
#set( $return = $imports.addToImports("junit.framework.AssertionFailedError") )
##set( $return = $imports.addToImports("java.io.PrintWriter") )
##set( $return = $imports.addToImports("java.io.StringWriter") )
##   StringWriter fujaba_StringWriter = new StringWriter();
##   PrintWriter fujaba_PrintWriter = new PrintWriter(fujaba_StringWriter);
##   fujaba__InternalException.printStackTrace(fujaba_PrintWriter);
##   throw new AssertionFailedError(fujaba_StringWriter.toString() + " JUnit exception:");
   AssertionFailedError fujaba_AssertionFailedError = new AssertionFailedError(fujaba__InternalException.getMessage());
   fujaba_AssertionFailedError.setStackTrace(fujaba__InternalException.getStackTrace());
   fujaba_AssertionFailedError.printStackTrace();
   throw fujaba_AssertionFailedError;
#end
}

#end
#end