### TypeOf[ ${elem} ] := de.uni_paderborn.fujaba.uml.behavior.UMLAttrExprPair
#parse("$lang/default:storyPattern/attribute/import.vm" )
#set( $attrType = $attr.getInstanceOf().getAttrType().getName() )
#if ( $useMethods )
#if( $attrType == "Boolean" )
#set( $prefix = "is" )
#else
#set( $prefix = "get" )
#end
#if( $attr.name.startsWith("is") )
#set( $method = "${name}.$attrName ()" )
#else
#set( $method = "${name}.$prefix$attrNameUC ()" )
#end
#else
#if($static)
$engine.warning("static attribute access does not make sense here",$elem)
#end
#set( $method = "${name}.$attrName" )
#end
// attribute condition
if (!( ##
#if ( $attrOp == "== RegExp:" )
#set( $return = $imports.addToImports("java.util.regex.*") )
($method != null) && Pattern.matches ($attrExpr, $method)##
#elseif ( $attrType == "String" )
#if( $attrExpr == "null" )
null $attrOp ${method}##
#else
#if ($attrOp == "!=")
!##
#end
${attrExpr}.equals(${method})##
#end
#elseif ( $attrType == "StringArray" )
${method}.equals($attrExpr)
#else
$method $attrOp $attrExpr##
#end
 )) {throw new Exception("SDMException");};

